<!DOCTYPE html>
<html>
<head>
  <title>Rate Us!</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    .stars { font-size: 40px; margin: 20px; }
    .star { cursor: pointer; color: #ddd; }
    .star.active, .star:hover { color: #ffcc00; }
    textarea { width: 80%; height: 100px; margin: 10px; padding: 10px; }
    button { background: #28a745; color: white; border: none; padding: 10px 20px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>How would you rate us?</h1>
  <div class="stars">
    <span class="star" data-rating="1">â˜…</span>
    <span class="star" data-rating="2">â˜…</span>
    <span class="star" data-rating="3">â˜…</span>
    <span class="star" data-rating="4">â˜…</span>
    <span class="star" data-rating="5">â˜…</span>
  </div>
  <textarea id="feedback" placeholder="Your feedback (optional)"></textarea>
  <button id="submit">Submit</button>

  <script>
    let selectedRating = 0;
    const stars = document.querySelectorAll('.star');
    const feedback = document.getElementById('feedback');
    const submitBtn = document.getElementById('submit');

    // Star selection
    stars.forEach(star => {
      star.addEventListener('click', () => {
        selectedRating = star.dataset.rating;
        stars.forEach(s => s.classList.toggle('active', s.dataset.rating <= selectedRating));
      });
    });

    // Submit to Cloudflare Worker
    submitBtn.addEventListener('click', async () => {
      if (selectedRating === 0) {
        alert("Please select a rating!");
        return;
      }

      try {
        const response = await fetch("https://your-worker.your-username.workers.dev", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            rating: selectedRating,
            feedback: feedback.value,
            page: window.location.href
          }),
        });

        if (response.ok) {
          alert("Thank you for your feedback! ðŸ’–");
        } else {
          alert("Failed to submit. Try again later.");
        }
      } catch (error) {
        alert("Network error. Check your connection.");
      }
    });
  </script>
</body>
</html>
